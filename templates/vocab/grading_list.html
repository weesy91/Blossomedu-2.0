<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì±„ì  ëŒ€ê¸° ëª©ë¡</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        body { background-color: #f8f9fa; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
        .hover-card:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important; transition: all 0.3s ease; }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4 shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="{% url 'core:teacher_home' %}">
                <i class="bi bi-arrow-left-circle me-2"></i>ì„ ìƒë‹˜ í™ˆìœ¼ë¡œ
            </a>
            <span class="navbar-text text-white">ë‹¨ì–´ ì±„ì  ê´€ë¦¬ ì‹œìŠ¤í…œ</span>
        </div>
    </nav>

    <div class="container py-4" style="max-width: 800px;">
        
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h3 class="fw-bold mb-0 text-dark">
                <i class="bi bi-pencil-square me-2 text-primary"></i>ì±„ì  ëŒ€ê¸° ì‹œí—˜ì§€
            </h3>
            <div class="btn-group shadow-sm">
                <a href="?sort=date" class="btn btn-outline-primary {% if current_sort == 'date' %}active{% endif %}">
                    <i class="bi bi-clock"></i> ìµœì‹ ìˆœ
                </a>
                <a href="?sort=name" class="btn btn-outline-primary {% if current_sort == 'name' %}active{% endif %}">
                    <i class="bi bi-person"></i> ì´ë¦„ìˆœ
                </a>
            </div>
        </div>

        {% if exam_list %}
            <div class="list-group border-0 gap-3">
                {% for exam in exam_list %}
                <a href="{% url 'vocab:grading_detail' exam.type exam.id %}" 
                   class="list-group-item list-group-item-action p-4 d-flex justify-content-between align-items-center shadow-sm rounded border hover-card">
                    
                    <div>
                        <div class="d-flex align-items-center gap-2 mb-2">
                            <span class="badge bg-primary rounded-pill px-3 py-2">{{ exam.student_name }}</span>
                            {% if exam.type == 'monthly' %}
                                <span class="badge bg-warning text-dark rounded-pill">ì›”ë§í‰ê°€</span>
                            {% endif %}
                            <strong class="text-dark fs-5">{{ exam.book_title }}</strong>
                        </div>
                        <div class="text-secondary">
                            <i class="bi bi-journal-text me-1"></i> ë²”ìœ„: {{ exam.test_range }}
                            <span class="mx-2">|</span>
                            <i class="bi bi-calendar-event me-1"></i> {{ exam.created_at|date:"Y-m-d H:i" }}
                            <span class="mx-2">|</span>
                            <span class="fw-bold text-primary">{{ exam.score }}ì </span>
                        </div>
                    </div>

                    <div class="text-end" style="min-width: 120px;">
                        <span class="badge bg-danger rounded-pill fs-6 mb-2 py-2 px-3 shadow-sm">
                            ğŸš¨ ìš”ì²­ {{ exam.pending_count }}ê±´
                        </span>
                        <div class="text-primary small fw-bold">
                            ì±„ì í•˜ê¸° <i class="bi bi-arrow-right-circle-fill ms-1"></i>
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
        {% else %}
            <div class="text-center py-5 bg-white rounded shadow-sm">
                <i class="bi bi-emoji-smile fs-1 text-success opacity-50 d-block mb-3"></i>
                <h4 class="text-muted fw-bold">ë“¤ì–´ì˜¨ ìš”ì²­ì´ ì—†ìŠµë‹ˆë‹¤!</h4>
                <p class="text-secondary mb-0">ëª¨ë“  ì±„ì  ìš”ì²­ì´ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
            </div>
        {% endif %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>